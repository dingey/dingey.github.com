java -jar -Dspring.profiles.active=prod -Dserver.port=8081 -Dlogging.path=logs/web1 web.jar &
<br>
tail docker-data/java-pro-01/logs/ptq-service-*.log -f -n100
<br>
查看内存
<br>
ps -aux |sort -k4nr | head -n 10 |tr -s ' '|cut -d ' ' -f 4,11
<br><br>
git pull --no-commit origin master<br>
git diff master target --binary > ../a.patch<br>
git checkout yxzs<br><br><br>
git apply ../a.patch<br><br>
git status<br>
<br>
$ docker ps // 查看所有正在运行容器<br><br><br><br>
$ docker stop containerId // containerId 是容器的ID<br><br><br>
$ docker ps -a // 查看所有容器<br><br>
$ docker ps -a -q // 查看所有容器ID<br>
$ docker stop $(docker ps -a -q) //  stop停止所有容器 <br>
$ docker  rm $(docker ps -a -q) //   remove删除所有容器 <br>
$ docker run -it -m 100M --oom-kill-disable ubuntu:16.04 /bin/bash //限制了容器内存100M 禁止OOM killer <br>
docker update --memory 100m --memory-swap 200m  //设置内存+swap的使用限额。  <br>
docker run --name mynginx -d -p 80:80  -v /conf/nginx.conf:/etc/nginx/nginx.conf  -v /logs/nginx:/var/log/nginx -d docker.io/nginx <br>
docker exec -i mynginx nginx -s reload <br>
docker exec -it 9fbe362214a6  /bin/bash  <br>
﻿从主机复制到容器sudo docker cp host_path containerID:container_path <br>
从容器复制到主机sudo docker cp containerID:container_path host_path <br>
<br>
docker run -d --privileged=true -p 6379:6379 -v /docker/redis/conf/redis.conf:/etc/redis/redis.conf -v /docker/redis/data:/data --requirepass "r123abc" --name myredis redis:5.0 redis-server /etc/redis/redis.conf --appendonly yes <br>
docker exec -it 43f7a65ec7f8 redis-cli<br>
//rabbitmq<br>
docker run -d --hostname my-rabbit --name rabbit -e RABBITMQ_DEFAULT_USER=admin -e RABBITMQ_DEFAULT_PASS=admin -p 5672:5672 -p 15672:15672 rabbitmq:management<br>
docker run -e JAVA_OPTS=‘-Xms128m -Xmx256m -Dspring.profiles.active=prod‘ -it pumelo/test-1.0.0 /bin/bash <br>
<br>
iptables -I INPUT -p tcp --dport 8081 -j DROP
iptables -A INPUT -ptcp --dport 8081 -j ACCEPT<br>
iptables -A OUTPUT -p tcp --dport 8081 -j DROP<br>
iptables -I INPUT -s 127.0.0.1 -p tcp --dport 8081 -j ACCEPT  <br>
 
